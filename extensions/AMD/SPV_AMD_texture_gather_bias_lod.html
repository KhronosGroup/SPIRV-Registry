<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.17">
<title>SPIR-V Extension SPV_AMD_texture_gather_bias_lod</title>
<style>
@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";
@import "https://cdn.jsdelivr.net/gh/asciidoctor/asciidoctor@2.0/data/stylesheets/asciidoctor-default.css";

p {
    font-family: Arial, Helvetica, sans-serif;
    line-height: normal;
}
em, b, strong {
    color: darkblue;
}

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>SPIR-V Extension SPV_AMD_texture_gather_bias_lod</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_name_strings">Name Strings</a></li>
<li><a href="#_contact">Contact</a></li>
<li><a href="#_contributors">Contributors</a></li>
<li><a href="#_notice">Notice</a></li>
<li><a href="#_status">Status</a></li>
<li><a href="#_version">Version</a></li>
<li><a href="#_dependencies">Dependencies</a></li>
<li><a href="#_overview">Overview</a></li>
<li><a href="#_extension_name">Extension Name</a></li>
<li><a href="#_summary">Summary</a></li>
<li><a href="#_token_number_assignments">Token Number Assignments</a></li>
<li><a href="#_modifications_to_the_spir_v_specification_version_1_1">Modifications to the SPIR-V Specification, Version 1.1</a></li>
<li><a href="#_validation_rules">Validation Rules</a></li>
<li><a href="#_issues">Issues</a></li>
<li><a href="#_revision_history">Revision History</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_name_strings">Name Strings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>SPV_AMD_texture_gather_bias_lod</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_contact">Contact</h2>
<div class="sectionbody">
<div class="paragraph">
<p>See <strong>Issues</strong> list in the Khronos SPIRV-Registry repository:
<a href="https://github.com/KhronosGroup/SPIRV-Registry" class="bare">https://github.com/KhronosGroup/SPIRV-Registry</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_contributors">Contributors</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Dominik Witczak, AMD</p>
</li>
<li>
<p>Daniel Rakos, AMD</p>
</li>
<li>
<p>Graham Sellers, AMD</p>
</li>
<li>
<p>Matthäus G. Chajdas, AMD</p>
</li>
<li>
<p>Qun Lin, AMD</p>
</li>
<li>
<p>Rex Xu, AMD</p>
</li>
<li>
<p>Timothy Lottes, AMD</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_notice">Notice</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Copyright (c) 2016 The Khronos Group Inc. Copyright terms at
<a href="http://www.khronos.org/registry/speccopyright.html" class="bare">http://www.khronos.org/registry/speccopyright.html</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_status">Status</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Proposed.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_version">Version</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Modified Date: June 22, 2017
Revision:      2</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dependencies">Dependencies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This extension is written against Revision 4 of the version 1.1 of the
SPIR-V Specification.</p>
</div>
<div class="paragraph">
<p>The extension is written against Revision 1 of the OpenGL extension
AMD_texture_gather_bias_lod.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_overview">Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This extension is written to provide the functionality of the
AMD_texture_gather_bias_lod, OpenGL Shading Language Specification extension,
for SPIR-V.</p>
</div>
<div class="paragraph">
<p>This extension lets applications specify bias of implicit level of detail and
explicit control of level of detail for texture gather operations.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_extension_name">Extension Name</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To enable SPV_AMD_texture_gather_bias_lod extension in SPIR-V, use</p>
</div>
<div class="literalblock">
<div class="content">
<pre>OpExtension "SPV_AMD_texture_gather_bias_lod"</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_summary">Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This extension lets applications specify a bias applied to the implicit level of
detail, or the explicit level of detail to use for texture gather operations.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_token_number_assignments">Token Number Assignments</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CapabilityImageGatherBiasLodAMD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5009</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_modifications_to_the_spir_v_specification_version_1_1">Modifications to the SPIR-V Specification, Version 1.1</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Modify Section 3.14, Image Operands</p>
</div>
<div class="paragraph">
<p>(Replace the following language, as included in the <strong>"Image Operands"</strong> section of the table
for the <strong>"Bias"</strong> Image Operand:)<br>
<br>
Only valid with implicit-lod instructions.<br>
<br>
(with:)<br>
<br>
Only valid with implicit-lod instructions, <strong>OpImageGather</strong>, or <strong>OpImageSparseGather</strong>.<br>
<br>
<br>
(Replace the following language, as included in the <strong>"Image Operands"</strong> section of the table
 for the <strong>"Lod"</strong> Image Operand):<br>
<br>
Only valid with implicit-lod instructions.<br>
<br>
(with:)<br>
<br>
Only valid with explicit-lod instructions, <strong>OpImageGather</strong>, or <strong>OpImageSparseGather</strong>.<br></p>
</div>
<div class="paragraph">
<p>Modify Section 3.31, Capability</p>
</div>
<div class="paragraph">
<p>Append the following Capability to the table:</p>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Capability</th>
<th class="tableblock halign-left valign-top">Depends On</th>
<th class="tableblock halign-left valign-top">Enabled by Extension</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ImageGatherBiasLodAMD</strong></p>
<p class="tableblock">Uses texture gather with either bias added to the implicit level-of-detail or explicit level-of-detail.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shader</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SPV_AMD_texture_gather_bias_lod</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_validation_rules">Validation Rules</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>An instruction can have at most one of the <strong>Lod</strong> and <strong>Bias</strong> image operands.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_issues">Issues</h2>
<div class="sectionbody">
<div class="paragraph">
<p>1) What level-of-detail do texture gather functions use, if the extension is defined?</p>
</div>
<div class="paragraph">
<p><strong>RESOLVED</strong>: If SPV_AMD_texture_gather_bias_lod extension is <strong>enabled</strong>, <strong>all</strong> texture
gather functions (ie. the ones which do not take the extra bias argument and
the ones that do) fetch texels from implicit LOD in fragment shader stage. In all
other shader stages, base level is used instead.</p>
</div>
<div class="paragraph">
<p>If the extension is <strong>disabled</strong>, all texture gather functions always fetch texels
from the base mip level.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_revision_history">Revision History</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-rows stripes-even stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Rev</th>
<th class="tableblock halign-left valign-top">Date</th>
<th class="tableblock halign-left valign-top">Author</th>
<th class="tableblock halign-left valign-top">Changes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">May 27, 2020</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nicolai Hähnle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Explicitly state that Lod and Bias cannot be used
simultaneously in the same instruction.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">June 22, 2017</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dominik Witczak</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Typo fix (OpCapabilityImageGatherBiasLodAMD &#8658; CapabilityImageGatherBiasLodAMD)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">February 21, 2017</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dominik Witczak</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial revision based on AMD_texture_gather_bias_lod</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</body>
</html>
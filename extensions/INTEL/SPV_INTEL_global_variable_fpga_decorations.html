<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<title>SPV_INTEL_global_variable_fpga_decorations</title>
<style>
@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";
@import "https://cdn.jsdelivr.net/gh/asciidoctor/asciidoctor@2.0/data/stylesheets/asciidoctor-default.css";

p {
    font-family: Arial, Helvetica, sans-serif;
    line-height: normal;
}
em, b, strong {
    color: darkblue;
}

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>SPV_INTEL_global_variable_fpga_decorations</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_name_strings">Name Strings</a></li>
<li><a href="#_contact">Contact</a></li>
<li><a href="#_contributors">Contributors</a></li>
<li><a href="#_notice">Notice</a></li>
<li><a href="#_status">Status</a></li>
<li><a href="#_version">Version</a></li>
<li><a href="#_dependencies">Dependencies</a></li>
<li><a href="#_overview">Overview</a></li>
<li><a href="#_extension_name">Extension Name</a></li>
<li><a href="#_new_capabilities">New Capabilities</a></li>
<li><a href="#_token_number_assignments">Token Number Assignments</a></li>
<li><a href="#_modifications_to_the_spir_v_specification_version_1_6">Modifications to the SPIR-V Specification, Version 1.6</a></li>
<li><a href="#_issues">Issues</a></li>
<li><a href="#_revision_history">Revision History</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_name_strings">Name Strings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>SPV_INTEL_global_variable_fpga_decorations</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_contact">Contact</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To report problems with this extension, please open a new issue at:</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/KhronosGroup/SPIRV-Registry" class="bare">https://github.com/KhronosGroup/SPIRV-Registry</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_contributors">Contributors</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Artem Radzikhovskyy, Intel</p>
</li>
<li>
<p>Michael Kinsner, Intel</p>
</li>
<li>
<p>Joe Garvey, Intel</p>
</li>
<li>
<p>Mohammad Fawaz, Intel</p>
</li>
<li>
<p>Gregory Lueck, Intel</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_notice">Notice</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Copyright (c) 2021-2023 Intel Corporation. All rights reserved.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_status">Status</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Complete</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_version">Version</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all" style="width: 40%;">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Last Modified Date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2024-02-09</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Revision</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_dependencies">Dependencies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This extension is written against the SPIR-V Specification,
Version 1.6 Revision 2.</p>
</div>
<div class="paragraph">
<p>This extension requires SPIR-V 1.0.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_overview">Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This extension adds decorations that can be applied to global (module scope)
variables. These decorations are intended to help code generation for
FPGA devices, they can be ignored by all other consumers of this extension.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_extension_name">Extension Name</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To use this extension within a SPIR-V module, the following <strong>OpExtension</strong> must
be present in the module:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>OpExtension "SPV_INTEL_global_variable_fpga_decorations"</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_new_capabilities">New Capabilities</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This extension introduces a new capability:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>GlobalVariableFPGADecorationsINTEL</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_token_number_assignments">Token Number Assignments</h2>
<div class="sectionbody">
<div class="openblock">
<div class="content">
<table class="tableblock frame-all grid-rows" style="width: 40%;">
<colgroup>
<col style="width: 70%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GlobalVariableFPGADecorationsINTEL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6189</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InitModeINTEL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6190</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ImplementInRegisterMapINTEL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6191</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_modifications_to_the_spir_v_specification_version_1_6">Modifications to the SPIR-V Specification, Version 1.6</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_initialization_mode_qualifier">Initialization Mode Qualifier</h3>
<div class="paragraph">
<p>After Section 3.18, add a new section "3.18a Initialization Mode Qualifier" as follows</p>
</div>
<div class="paragraph">
<p>Defines how the initialization should be triggered.</p>
</div>
<div class="paragraph">
<p>Used by InitModeINTEL.</p>
</div>
<div class="openblock">
<div class="content">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2">Initialization Mode Qualifier</th>
<th class="tableblock halign-center valign-top">Enabling Capabilities</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>InitOnDeviceReprogramINTEL</strong></p>
<p class="tableblock">Initialization is performed by reprogramming
 the device. This may require more frequent reprogramming but may reduce
 area.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>GlobalVariableFPGADecorationsINTEL</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>InitOnDeviceResetINTEL</strong></p>
<p class="tableblock">Initialization is performed by sending a reset
 signal to the device. This may increase area but may reduce reprogramming
 frequency.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>GlobalVariableFPGADecorationsINTEL</strong></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_decoration">Decoration</h3>
<div class="paragraph">
<p>Modify Section 3.20, Decoration, adding these rows to the Decoration table:</p>
</div>
<div class="openblock">
<div class="content">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.1428%;">
<col style="width: 35.7142%;">
<col style="width: 8.9285%;">
<col style="width: 8.9285%;">
<col style="width: 39.286%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle" colspan="2">Decoration</th>
<th class="tableblock halign-left valign-middle" colspan="2">Extra Operands</th>
<th class="tableblock halign-left valign-top">Enabling Capabilities</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">6190</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>InitModeINTEL</strong><br>
Only valid on global (module scope) <strong>OpVariable</strong> which has an <em>Initializer</em>
operand.</p>
</div>
<div class="paragraph">
<p>This decoration only has an effect when the consumer is an FPGA or similar
device. The <em>Trigger</em> value tells how the global variable should be
initialized.</p>
</div>
<div class="paragraph">
<p>If a global <strong>OpVariable</strong> with an <em>Initializer</em> operand is not decorated with
<strong>InitModeINTEL</strong>, the method by which the variable&#8217;s value is initialized is
implementation defined.</p>
</div></div></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">Initialization Mode Qualifier<br>
<em>Trigger</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>GlobalVariableFPGADecorationsINTEL</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">6191</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>ImplementInRegisterMapINTEL</strong><br>
Only valid on global (module scope) <strong>OpVariable</strong>.</p>
</div>
<div class="paragraph">
<p>This decoration only has an effect when the consumer is an FPGA or similar
device. The <em>Value</em> value controls the interface of this global variable with
hardware outside the boundary of the SPIR-V module.</p>
</div>
<div class="paragraph">
<p>Legal values of <em>Value</em>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>0 [False] - Access to this memory is through a dedicated interface.</p>
</li>
<li>
<p>1 [True] - Access to this memory is through a common register map interface that may be shared by other control or data inputs and outputs.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If a global <strong>OpVariable</strong> is not decorated with <strong>ImplementInRegisterMapINTEL</strong>, the
interface for the variable is implementation defined.</p>
</div></div></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">Literal Number<br>
<em>Value</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>GlobalVariableFPGADecorationsINTEL</strong></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_capability">Capability</h3>
<div class="paragraph">
<p>Modify Section 3.31, Capability, adding a row to the Capability table:</p>
</div>
<div class="openblock">
<div class="content">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2">Capability</th>
<th class="tableblock halign-center valign-top">Implicitly Declares</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6189</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GlobalVariableFPGADecorationsINTEL</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_issues">Issues</h2>
<div class="sectionbody">
<div class="paragraph">
<p>None.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_revision_history">Revision History</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-rows stretch">
<colgroup>
<col style="width: 4.7619%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Rev</th>
<th class="tableblock halign-left valign-top">Date</th>
<th class="tableblock halign-left valign-top">Author</th>
<th class="tableblock halign-left valign-top">Changes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2022-11-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gregory Lueck</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial revision</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2023-04-25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Artem Radzikhovskyy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Seperated the FPGA specific decorations from the generic ones</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2023-10-27</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Artem Radzikhovskyy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reverting Capability ID</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</body>
</html>
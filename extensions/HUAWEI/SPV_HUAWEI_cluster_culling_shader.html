<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<title>SPV_HUAWEI_cluster_culling_shader</title>
<style>
@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";
@import "https://cdn.jsdelivr.net/gh/asciidoctor/asciidoctor@2.0/data/stylesheets/asciidoctor-default.css";

p {
    font-family: Arial, Helvetica, sans-serif;
    line-height: normal;
}
em, b, strong {
    color: darkblue;
}

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>SPV_HUAWEI_cluster_culling_shader</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_name_strings">Name Strings</a></li>
<li><a href="#_contact">Contact</a></li>
<li><a href="#_contributors">Contributors</a></li>
<li><a href="#_status">Status</a></li>
<li><a href="#_version">Version</a></li>
<li><a href="#_overview">Overview</a></li>
<li><a href="#_extension_name">Extension Name</a></li>
<li><a href="#_new_capabilities">New Capabilities</a></li>
<li><a href="#_modifications_to_the_spir_v_specification_version_1_6">Modifications to the SPIR-V Specification, Version 1.6</a></li>
<li><a href="#_issues">Issues</a></li>
<li><a href="#_revision_history">Revision History</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_name_strings">Name Strings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>SPV_HUAWEI_cluster_culling_shader</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_contact">Contact</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To report problems with this extension, please open a new issue at:
<a href="https://github.com/KhronosGroup/SPIRV-Registry" class="bare">https://github.com/KhronosGroup/SPIRV-Registry</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_contributors">Contributors</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Cheng Wei, HUAWEI</p>
</li>
<li>
<p>Jinyongjie, HUAWEI</p>
</li>
<li>
<p>Yuchang Wang, HUAWEI</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_status">Status</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Complete.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_version">Version</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stripes-even" style="width: 40%;">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Last Modified Date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2023-12-04</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Revision</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Dependencies
This extension is written against the SPIR-V Specification, Version 1.6</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_overview">Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This extensions provides SPIR-V support for the <strong>GLSL GL_HUAWEI_cluster_culling_shader</strong> extension which adds a new programmable shader types - cluster culling shaders - that has an execution environment similar to that of compute shaders. The developer can use this new shader to perform coarse-level geometry culling on GPU and direct emit visible cluster with a shading rate to the subsequent rendering pipeline.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_extension_name">Extension Name</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To use this extension within a SPIR-V module, the following <strong>OpExtension</strong> must be present in the module</p>
</div>
<div class="listingblock">
<div class="content">
<pre>OpExtension "SPV_HUAWEI_cluster_culling_shader"</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_new_capabilities">New Capabilities</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This extension introduces new capabilities:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ClusterCullingShadingHUAWEI</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_modifications_to_the_spir_v_specification_version_1_6">Modifications to the SPIR-V Specification, Version 1.6</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1">(Modify section 3.3, Execution model, adding a row to the table)</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><p class="tableblock">Execution Model</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabling Capabilities</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6272</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ClusterCullingHUAWEI</strong><br>
Cluster Culling shading stage.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ClusterCullingShadingHUAWEI</strong></p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">(Modify section 3.31, Capability, adding a row to the Capability table)</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><p class="tableblock">Capabilities</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Implicitly Declares</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6273</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ClusterCullingShadingHUAWEI</strong><br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">shader also see extension <strong>SPV_HUAWEI_cluster_culling_shader</strong></p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">(Modify section 3.21, Built-in, adding 7 new rows to the Built-in table)</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><p class="tableblock">Builtin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabling Capabilities</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6274</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>IndexCountHUAWEI</strong> This variable specifies the number of vertices to draw in a cluster.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>SPV_HUAWEI_cluster_culling_shader</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6275</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>VertexCountHUAWEI</strong> This variable specifies the number of vertices to draw in a cluster.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>SPV_HUAWEI_cluster_culling_shader</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6276</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>InstanceCountHUAWEI</strong> This variable specified the number of instance to draw in a cluster. This variable should be one.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>SPV_HUAWEI_cluster_culling_shader</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6277</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>FirstIndexHUAWEI</strong> This variable specifies the base index of a cluster within the index buffer.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>SPV_HUAWEI_cluster_culling_shader</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6278</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>FirstVertexHUAWEI</strong> This variable specifies the base index of a cluster within the index buffer.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>SPV_HUAWEI_cluster_culling_shader</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6279</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>VertexOffsetHUAWEI</strong> This variable specifies the value added to the vertex index of a cluster before indexing into the vertex buffer.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>SPV_HUAWEI_cluster_culling_shader</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6280</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>FirstInstanceHUAWEI</strong> This variable specifies the instance ID of the first instance to draw.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>SPV_HUAWEI_cluster_culling_shader</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6281</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ClusterIdHUAWEI</strong> This variable specifies the index of cluster being rendered by this drawing command.
 This id can be passed from CCS to the vertex shader, so that the vertex shader can also get information related to the cluster.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>SPV_HUAWEI_cluster_culling_shader</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6283</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ClusterShadingRateHUAWEI</strong> This variable specifies the shading rate of a cluster being rendered by this drawing command.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>SPV_HUAWEI_cluster_culling_shader</strong></p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">(Modify section 3.42.25, Reserved Instructions, adding a row to the table)</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">OpDispatchClusterHUAWEI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Capabilities:
ClusterCulingShadingHUAWEI</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6282</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6273</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_issues">Issues</h2>
<div class="sectionbody">
<div class="paragraph">
<p>None.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_revision_history">Revision History</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Rev</th>
<th class="tableblock halign-left valign-top">Date</th>
<th class="tableblock halign-left valign-top">Author</th>
<th class="tableblock halign-left valign-top">Changes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2022-11-16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yu-Chang Wang</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Initial Public Release</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2023-12-04</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yu-Chang Wang</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>add cluster shading rate</strong></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</body>
</html>